const data= [
    {
        id : 0,
        img : 'images/AddidasCategory/1.jpg',
        name : 'Power Crunch Whey Protein Bars',
        price : 12,
        save : 5,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
    {
        id : 1,
        img : 'C:\Users\douyo\OneDrive\Pictures\one plant.PNG',
        name : 'One Protein Bars',
        price : 10,
        save : 6,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
    {
        id : 2,
        img : 'images/AddidasCategory/3.jpg',
        name : 'Mosh Nutrition Bar (Peanut Butter Chocolate Crunch)',
        price : 12,
        save : 6,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 3,
        img : 'images/AddidasCategory/4.jpg',
        name : ' No Cow Bars ',
        price : 14,
        save : 7,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 4,
        img : 'images/AddidasCategory/5.jpg',
        name : 'Outright Bars (Peanut Butter Oatmeal Raisin)',
        price : 15,
        save : 5,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
    {
        id : 5,
        img : 'images/AddidasCategory/6.jpg',
        name : 'Kind Protein Bar (Almond Butter Dark Chocolate)',
        price : 12,
        save : 7,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 6,
        img : 'images/AddidasCategory/7.jpg',
        name : 'Hemp Yeah! Protein-Packed Super Seed Bar (Dark Chocolate Almond Sea Salt)',
        price : 14,
        save : 5,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 7,
        img : 'images/KDCategorry/KD1.jpg',
        name : 'RXBar Chocolate Sea Salt',
        price : 12,
        save : 6,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 8,
        img : 'images/curryCategory/curry1.png',
        name : 'Whey Protein',
        price : 85,
        save : 15,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 9,
        img : 'images/curryCategory/curry2.5.png',
        name : 'Casein Protein',
        price : 180,
        save : 45,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 10,
        img : 'images/curryCategory/curry2.png',
        name : 'Egg Protein',
        price : 160,
        save : 35,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 11,
        img : 'images/curryCategory/curry5.png',
        name : 'Pea Protein',
        price : 180,
        save : 45,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 12,
        img : 'images/curryCategory/curry6..png',
        name : 'Hemp Protein',
        price : 220,
        save : 35,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 13,
        img : 'images/curryCategory/curry6.png',
        name : 'Brown Rice Protein',
        price : 245,
        save : 25,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 14,
        img : 'images/curryCategory/curry3.5.png',
        name : 'Mix Plant Protein 3',
        price : 250,
        save : 15,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 15,
        img : 'images/curryCategory/SpecialCurry.png',
        name : 'MuscleBlaze Whey Protein',
        price : 285,
        save : 10,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 16,
        img : 'images/KDCategorry/KD.jpg',
        name : 'Creatine',
        price : 285,
        save : 25,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 17,
        img : 'images/KDCategorry/KD1.jpg',
        name : 'Protein Supplements',
        price : 320,
        save : 37,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 18,
        img : 'images/KDCategorry/KD2.jpg',
        name : 'Weight Gainer',
        price : 245,
        save : 35,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 19,
        img : 'images/KDCategorry/KD3.jpg',
        name : 'Beta-Alanine',
        price : 285,
        save : 32,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 20,
        img : 'images/KDCategorry/KD4.jpg',
        name : 'Branched-Chain Amino Acids',
        price : 245,
        save : 25,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 21,
        img : 'images/KDCategorry/kdd.jpg',
        name : 'HMB',
        price : 450,
        save : 45,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 22,
        img : 'images/KDCategorry/KD6.jpg',
        name : 'Conjugated linoleic acid',
        price : 285,
        save : 23,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 23,
        img : 'images/KDCategorry/SpecialKD.jpg',
        name : 'Testosterone boosters',
        price : 125,
        save : 15,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	//end of kd category
	//LJames Category 
	{
        id : 24,
        img : 'images/lebronCategory/lebron12.png',
        name : 'Water',
        price : 255,
        save : 34,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 25,
        img : 'images/lebronCategory/lebron13.png',
        name : 'Vitamin Water',
        price : 245,
        save : 30,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 26,
        img : 'images/lebronCategory/lebron14.png',
        name : ' Sport Drinks',
        price : 225,
        save : 35,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 27,
        img : 'images/lebronCategory/lebron16.png',
        name : 'Fruit Juice',
        price : 185,
        save : 29,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 28,
        img : 'images/lebronCategory/lebron17.png',
        name : 'Enery Drink',
        price : 245,
        save : 32,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 29,
        img : 'images/lebronCategory/lebron2003.png',
        name : 'Coconut Water',
        price : 650,
        save : 55,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 30,
        img : 'images/lebronCategory/lebron10.png',
        name : 'Milk',
        price : 350,
        save : 25,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 31,
        img : 'images/lebronCategory/specialLebronShoes.png',
        name : 'Chocolate Milk',
        price : 450,
        save : 15,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	//end of kd LJames
	//MJ Category 
	{
        id : 32,
        img : 'images/MJCategory/MJ1.jpg',
        name : 'Trideer Weightlifting Gloves',
        price : 245,
        save : 15,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 33,
        img : 'images/MJCategory/MJ2.jpg',
        name : 'RIMSports Premium Weight Lifting Gloves',
        price : 245,
        save : 25,
        delievery : 'In 2 - 5 days',
        itemInCart: false
    },
    {
        id : 34,
        img : 'images/MJCategory/MJ3.jpg',
        name : 'Fit Active Sports Fit Active New Ventilated Weight Lifting Gloves',
        price : 285,
        save : 25,
        delievery : 'In 1 - 4 days',
        itemInCart: false
    },
    {
        id : 35,
        img : 'images/MJCategory/MJ4.jpg',
        name : 'BIONIC Gloves Premium Full Finger Fitness Gloves',
        price : 350,
        save : 35,
        delievery : 'In 2 - 6 days',
        itemInCart: false
    },
    {
        id : 36,
        img : 'images/MJCategory/MJ5.jpg',
        name : 'Grip Power Pads Gym Gloves',
        price : 245,
        save : 18,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 37,
        img : 'images/MJCategory/MJ6.jpg',
        name : 'Harbinger Menâ€™s Power Weightlifting Gloves',
        price : 450,
        save : 34,
        delievery : 'In 1 - 3 days',
        itemInCart: false
    },
    {
        id : 38,
        img : 'images/MJCategory/MJ7.jpg',
        name : 'Nike Men Gloves',
        price : 185,
        save : 25,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
    {
        id : 39,
        img : 'images/MJCategory/SpecialMJ.jpg',
        name : 'Under Armour Men Entry Glove Black',
        price : 650,
        save : 20,
        delievery : 'In 1 - 4 days',
        itemInCart: false
    },
	//end of MJ
	//Running Shoes Category
	{
        id : 40,
        img : 'Images/runningShoesCategory/1.jpg',
        name : 'Running Shoes',
        price : 75,
        save : 10,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 41,
        img : 'Images/runningShoesCategory/2.jpg',
        name : 'Adidas Running Shoes',
        price : 65,
        save : 5,
        delievery : 'In 2 - 5 days',
        itemInCart: false
    },
    {
        id : 42,
        img : 'Images/runningShoesCategory/3.jpg',
        name : 'Nike Running Shoes',
        price : 45,
        save : 2,
        delievery : 'In 1 - 4 days',
        itemInCart: false
    },
    {
        id : 43,
        img : 'Images/runningShoesCategory/4.jpg',
        name : 'Women Running Shoes',
        price : 75,
        save : 15,
        delievery : 'In 2 - 6 days',
        itemInCart: false
    },
    {
        id : 44,
        img : 'Images/runningShoesCategory/5.jpg',
        name : 'Women Nike Runnig Shoes',
        price : 65,
        save : 5,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 44,
        img : 'Images/runningShoesCategory/6.jpg',
        name : 'Mountain hiking Shoes-blue',
        price : 110,
        save : 24,
        delievery : 'In 1 - 3 days',
        itemInCart: false
    },
    {
        id : 46,
        img : 'Images/runningShoesCategory/7.jpg',
        name : 'Women Special Running Shoes',
        price : 95,
        save : 15,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
    {
        id : 47,
        img : 'Images/runningShoesCategory/8.jpg',
        name : 'Addidas Women Running Shoes ',
        price : 90,
        save : 20,
        delievery : 'In 1 - 4 days',
        itemInCart: false
    },
	//end of 
	//  
	{
        id : 48,
        img : 'images/SpecialCategory/1.jpg',
        name : 'Jabra Elite Active 75ts',
        price : 560,
        save : 36,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 49,
        img : 'images/SpecialCategory/2.jpg',
        name : 'Beats Fit Pro',
        price : 600,
        save : 35,
        delievery : 'In 2 - 5 days',
        itemInCart: false
    },
    {
        id : 50,
        img : 'images/SpecialCategory/3.jpg',
        name : 'Amazfit PowerBuds Pro',
        price : 650,
        save : 45,
        delievery : 'In 1 - 4 days',
        itemInCart: false
    },
    {
        id : 51,
        img : 'images/SpecialCategory/4.jpg',
        name : 'Beats Powerbeats Pro',
        price : 750,
        save : 35,
        delievery : 'In 2 - 6 days',
        itemInCart: false
    },
    {
        id : 52,
        img : 'images/SpecialCategory/5.jpg',
        name : 'Apple AirPods Pro',
        price : 245,
        save : 18,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 53,
        img : 'images/SpecialCategory/6.jpg',
        name : 'Jaybird Tarah Pro',
        price : 850,
        save : 75,
        delievery : 'In 1 - 3 days',
        itemInCart: false
    },
    {
        id : 54,
        img : 'images/SpecialCategory/7.jpg',
        name : 'Jabra Elite 4 Active',
        price : 350,
        save : 65,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
    {
        id : 55,
        img : 'images/SpecialCategory/8.jpg',
        name : 'Samsung Galaxy Buds Pro',
        price : 450,
        save : 65,
        delievery : 'In 1 - 4 days',
        itemInCart: false
    },
	//end of
	//Work 
	{
        id : 56,
        img : 'images/WorkCategory/1.jpg',
        name : 'KinHwa Microfiber Gym Towel',
        price : 115,
        save : 15,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
	{
        id : 57,
        img : 'images/WorkCategory/2.jpg',
        name : 'Utopia White Highly Absorbent Towels',
        price : 125,
        save : 25,
        delievery : 'In 2 - 5 days',
        itemInCart: false
    },
    {
        id : 58,
        img : 'images/WorkCategory/3.jpg',
        name : 'HOPESHINE Microfiber Towel',
        price : 105,
        save : 5,
        delievery : 'In 1 - 4 days',
        itemInCart: false
    },
    {
        id : 59,
        img : 'images/WorkCategory/4.jpg',
        name : 'Cooling Towel',
        price : 15,
        save : 12,
        delievery : 'In 2 - 6 days',
        itemInCart: false
    },
    {
        id : 60,
        img : 'images/MJCategory/MJ5.jpg',
        name : 'UNDER ARMOUR Performance - Adult Headband',
        price : 10,
        save : 3,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 61,
        img : 'images/WorkCategory/6.jpg',
        name : 'NIKE Swoosh - Headband',
        price : 10,
        save : 2,
        delievery : 'In 1 - 3 days',
        itemInCart: false
    },
    {
        id : 62,
        img : 'images/WorkCategory/7.jpg',
        name : 'BUFF Coolnet UV Wide Solid - Adult Headband',
        price : 8,
        save : 3,
        delievery : 'In 1 - 2 days',
        itemInCart: false
    },
    {
        id : 63,
        img : 'images/WorkCategory/8.jpg',
        name : 'BUFF Coolnet UV Ellipse Cyancy Blossom - Adult Headband',
        price : 9,
        save : 3,
        delievery : 'In 1 - 4 days',
        itemInCart: false
    },
	//end of Work Category
	
];

let cartList=[]; //array to store cart lists

var i;
var detail =document.getElementsByClassName('card-item');
var detailsImg = document.getElementById('details-img')
var detailTitle = document.getElementById('detail-title')
var detailPrice = document.getElementById('detail-price')
var youSave = document.getElementById('you-save');
var detailsPage = document.getElementById('details-page');
var back = document.getElementById('buy')
back.addEventListener('click',refreshPage)
var addToCarts = document.querySelectorAll('#add-to-cart')
var cart = document.getElementById('cart');

// click event to display cart page
cart.addEventListener('click',displayCart)

var carts = document.getElementById('carts');

//click events to add items to cart from details page
carts.addEventListener('click',()=>addToCart(getId))

var home = document.getElementById('logo');

//click event to hide cart page and return to home page
home.addEventListener('click',hideCart);

//events on dynamically created element to remove items from list
document.addEventListener('click',function (e){
    if(e.target.id=='remove'){
        var itemId = e.target.parentNode.id
        removeFromCart(itemId)
    }
})


//click event to display details page
for(i=0;i<data.length;i++){
    detail[i].addEventListener('click',handleDetail)
}

var getId;

//click events to add items to cart from home page cart icon
addToCarts.forEach(val=>val.addEventListener('click',()=>addToCart(val.parentNode.id)));

// details function
function handleDetail(e){
    detailsPage.style.display = 'block'
    getId= this.parentNode.id;
    detailsImg.src= data[getId].img;
    detailTitle.innerHTML=   data[getId].name;
    detailPrice.innerHTML= 'Price : $ ' +data[getId].price;
    youSave.innerHTML= 'You save : ($ ' + data[getId].save + ')';
}

// add item to the cart
function addToCart(id) {
    if(!data[id].itemInCart){
        cartList= [...cartList,data[id]];
        addItem()
        
        alert('item added to your cart')

    }
    else{
        alert('your item is already there')
    }
    data[id].itemInCart= true
}

//back to main page
function refreshPage(){
    detailsPage.style.display = 'none'
}

// hide your cart page
function hideCart(){
    document.getElementById('main').style.display= "block";
    document.getElementById('cart-container').style.display= "none";
}

//display your cart page
function displayCart(){
    document.getElementById('main').style.display= "none";
    document.getElementById('details-page').style.display= "none";
    document.getElementById('cart-container').style.display= "block";
    if(cartList.length==0){
        document.getElementById('cart-with-items').style.display= "none";
        document.getElementById('empty-cart').style.display= "block";
    }
    else{
        document.getElementById('empty-cart').style.display= "none";
        document.getElementById('cart-with-items').style.display= "block";
        
    }
}

var totalAmount;
var totalItems;
var totalSaving;

//add item to the cart
function addItem(){
    totalAmount=0;
    totalItems = 0;
    totalSaving=0
    var clrNode=document.getElementById('item-body');
        clrNode.innerHTML= '';
        console.log(clrNode.childNodes)
        cartList.map((cart)=>
        {
            var cartCont = document.getElementById('item-body');
            totalAmount = totalAmount + cart.price;
            totalSaving = totalSaving + cart.save;
            totalItems = totalItems + 1;

            var tempCart = document.createElement('div')
            tempCart.setAttribute('class','cart-list');
            tempCart.setAttribute('id',cart.id);

            var listImg = document.createElement('img');
            listImg.setAttribute('id','list-img');
            listImg.src = cart.img
            tempCart.appendChild(listImg)

            var listName = document.createElement('h3');
            listName.setAttribute('class','list-name');
            listName.innerHTML = cart.name;
            tempCart.appendChild(listName)

            var listPay = document.createElement('h3');
            listPay.setAttribute('class','pay');
            listPay.innerHTML = cart.price;
            tempCart.appendChild(listPay);

            var listQuantity = document.createElement('h3');
            listQuantity.setAttribute('class','quantity');
            listQuantity.innerHTML = '1';
            tempCart.appendChild(listQuantity);

            var listTrash = document.createElement('i');
            listTrash.setAttribute('class','fa fa-trash ');
            listTrash.setAttribute('id','remove');
            tempCart.appendChild(listTrash);

            cartCont.appendChild(tempCart)
            
        })
        document.getElementById('total-amount').innerHTML = 'Total Amount : $ ' + totalAmount;
        document.getElementById('total-items').innerHTML = 'Total Items : ' + totalItems;
        document.getElementById('you-saved').innerHTML = 'You Saved : $ ' + totalSaving;
        document.getElementById('total').style.display= "block";
}

//remove item from the cart
function removeFromCart(itemId){
    data[itemId].itemInCart = false
    cartList = cartList.filter((list)=>list.id!=itemId);
    addItem()
    if(cartList.length==0){
        document.getElementById('cart-with-items').style.display= "none";
        document.getElementById('empty-cart').style.display= "block";
    }
}
